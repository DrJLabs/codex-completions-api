PROXY_API_KEY=your-dev-key
# Optional: override dev port
# DEV_PORT=18000
# For public dev behind Traefik, set the domain
# DEV_DOMAIN=codex-dev.onemainarmy.com

# Runtime model selection
# Leave unset to use the default (gpt-5). The dev stack already normalizes
# advertised codev-5-* IDs to gpt-5 with the matching reasoning effort.
# Explicit overrides like gpt-5-minimal are not supported by the dev key and
# will result in 400 "Unsupported model" responses from the Codex CLI.
# CODEX_MODEL=gpt-5

# Feature flag: keep proto as default until app-server rollout gates pass.
PROXY_USE_APP_SERVER=false

# Let edge (Traefik/Cloudflare) handle CORS in DEV (parity with prod)
PROXY_ENABLE_CORS=false

# DEV-only safeguard: early finalize non-stream if backend is slow (ms; 0=disabled)
# Avoids Cloudflare 524 by returning finish_reason:"length" before the 100s no-bytes window
PROXY_DEV_TRUNCATE_AFTER_MS=60000

# Codex CLI selection (dev stack)
# - Default in compose.dev.stack.yml is CODEX_BIN=codex (real Codex CLI; requires ~/.cargo/bin/codex mounted)
# - To use the lightweight proto shim for offline tests, set:
# CODEX_BIN=/app/scripts/fake-codex-proto.js

# Model naming in dev vs prod
# - Dev advertises codev-5 and codev-5-{low,medium,high,minimal}
# - Prod advertises codex-5 and codex-5-{low,medium,high,minimal}
# Some clients validate against /v1/models and will reject the wrong prefix.
