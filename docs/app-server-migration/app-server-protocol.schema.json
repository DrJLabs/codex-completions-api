{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Codex App Server JSON-RPC Schema Bundle",
  "cliVersion": "0.53.0",
  "generatedAt": "2025-11-02T19:53:00.325Z",
  "definitions": {
    "InitializeParams": {
      "type": "object",
      "properties": {
        "clientInfo": {
          "$ref": "#/definitions/ClientInfo"
        },
        "capabilities": {
          "$ref": "#/definitions/Record<string,unknown>"
        },
        "protocolVersion": {
          "type": "string"
        }
      },
      "required": ["clientInfo"],
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "ClientInfo": {
      "type": "object",
      "additionalProperties": {},
      "properties": {
        "name": {
          "type": "string"
        },
        "version": {
          "type": "string"
        },
        "title": {
          "type": "string"
        }
      },
      "required": ["name", "version"]
    },
    "Record<string,unknown>": {
      "type": "object"
    },
    "NewConversationParams": {
      "type": "object",
      "additionalProperties": {},
      "properties": {
        "model": {
          "type": "string"
        },
        "modelProvider": {
          "type": "string"
        },
        "profile": {
          "type": "string"
        },
        "cwd": {
          "type": "string"
        },
        "approvalPolicy": {
          "$ref": "#/definitions/AskForApproval"
        },
        "sandbox": {
          "$ref": "#/definitions/SandboxMode"
        },
        "config": {
          "$ref": "#/definitions/Record<string,unknown>"
        },
        "baseInstructions": {
          "type": "string"
        },
        "developerInstructions": {
          "type": "string"
        },
        "compactPrompt": {
          "type": "string"
        },
        "includeApplyPatchTool": {
          "type": "boolean"
        }
      },
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "AskForApproval": {
      "enum": ["never", "on-failure", "on-request", "untrusted"],
      "type": "string"
    },
    "SandboxMode": {
      "enum": ["danger-full-access", "read-only", "workspace-write"],
      "type": "string"
    },
    "AddConversationListenerParams": {
      "type": "object",
      "additionalProperties": {},
      "properties": {
        "conversationId": {
          "type": "string"
        },
        "experimentalRawEvents": {
          "type": "boolean"
        }
      },
      "required": ["conversationId"],
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "RemoveConversationListenerParams": {
      "type": "object",
      "additionalProperties": {},
      "properties": {
        "subscriptionId": {
          "type": "string"
        }
      },
      "required": ["subscriptionId"],
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "SendUserTurnParams": {
      "type": "object",
      "additionalProperties": {},
      "properties": {
        "conversationId": {
          "type": "string"
        },
        "items": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/InputItem"
          }
        },
        "cwd": {
          "type": "string"
        },
        "approvalPolicy": {
          "$ref": "#/definitions/AskForApproval"
        },
        "sandboxPolicy": {
          "$ref": "#/definitions/SandboxPolicy"
        },
        "model": {
          "type": "string"
        },
        "effort": {
          "$ref": "#/definitions/ReasoningEffort"
        },
        "summary": {
          "$ref": "#/definitions/ReasoningSummary"
        },
        "metadata": {
          "$ref": "#/definitions/Record<string,unknown>"
        },
        "tools": {
          "$ref": "#/definitions/Record<string,unknown>"
        }
      },
      "required": [
        "approvalPolicy",
        "conversationId",
        "cwd",
        "items",
        "model",
        "sandboxPolicy",
        "summary"
      ],
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "InputItem": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "text"
            },
            "data": {
              "type": "object",
              "properties": {
                "text": {
                  "type": "string"
                }
              },
              "required": ["text"]
            }
          },
          "required": ["data", "type"]
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "image"
            },
            "data": {
              "type": "object",
              "properties": {
                "image_url": {
                  "type": "string"
                }
              },
              "required": ["image_url"]
            }
          },
          "required": ["data", "type"]
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "localImage"
            },
            "data": {
              "type": "object",
              "properties": {
                "path": {
                  "type": "string"
                }
              },
              "required": ["path"]
            }
          },
          "required": ["data", "type"]
        }
      ]
    },
    "SandboxPolicy": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "type": "string",
              "const": "danger-full-access"
            }
          },
          "required": ["mode"]
        },
        {
          "type": "object",
          "properties": {
            "mode": {
              "type": "string",
              "const": "read-only"
            }
          },
          "required": ["mode"]
        },
        {
          "type": "object",
          "properties": {
            "mode": {
              "type": "string",
              "const": "workspace-write"
            },
            "writable_roots": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "network_access": {
              "type": "boolean"
            },
            "exclude_tmpdir_env_var": {
              "type": "boolean"
            },
            "exclude_slash_tmp": {
              "type": "boolean"
            }
          },
          "required": ["mode"]
        }
      ]
    },
    "ReasoningEffort": {
      "enum": ["high", "low", "medium", "minimal"],
      "type": "string"
    },
    "ReasoningSummary": {
      "enum": ["auto", "concise", "detailed", "none"],
      "type": "string"
    },
    "SendUserMessageParams": {
      "type": "object",
      "additionalProperties": {},
      "properties": {
        "conversationId": {
          "type": "string"
        },
        "items": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/InputItem"
          }
        },
        "includeUsage": {
          "type": "boolean"
        },
        "include_usage": {
          "type": "boolean"
        },
        "metadata": {},
        "stream": {
          "type": "boolean"
        },
        "temperature": {
          "type": "number"
        },
        "topP": {
          "type": "number"
        },
        "top_p": {
          "type": "number"
        },
        "maxOutputTokens": {
          "type": "number"
        },
        "max_output_tokens": {
          "type": "number"
        },
        "tools": {},
        "responseFormat": {},
        "response_format": {},
        "reasoning": {},
        "finalOutputJsonSchema": {},
        "final_output_json_schema": {}
      },
      "required": ["conversationId", "items"],
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "JsonRpcErrorResponse": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/JsonRpcId"
        },
        "error": {
          "$ref": "#/definitions/JsonRpcErrorObject"
        },
        "jsonrpc": {
          "type": "string",
          "const": "2.0"
        }
      },
      "required": ["error", "id", "jsonrpc"],
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "JsonRpcId": {
      "type": ["string", "number"]
    },
    "JsonRpcErrorObject": {
      "type": "object",
      "properties": {
        "code": {
          "type": ["string", "number"]
        },
        "message": {
          "type": "string"
        },
        "data": {}
      },
      "required": ["code", "message"]
    },
    "JsonRpcSuccessResponse": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/JsonRpcId"
        },
        "result": {
          "$ref": "#/definitions/Result"
        },
        "jsonrpc": {
          "type": "string",
          "const": "2.0"
        }
      },
      "required": ["id", "jsonrpc", "result"],
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "Result": {
      "type": "object"
    }
  }
}
