{
  "type": "excalidraw",
  "version": 2,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "external-client",
      "type": "rectangle",
      "x": -320,
      "y": 0,
      "width": 120,
      "height": 80,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#f3e5f5",
      "fillStyle": "solid",
      "strokeWidth": 3,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "external-client-group"
      ],
      "roundness": null,
      "seed": 111877638,
      "version": 1,
      "versionNonce": 66162919,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "external-client-text"
        },
        {
          "type": "arrow",
          "id": "arrow-client-to-p1"
        },
        {
          "type": "arrow",
          "id": "arrow-p4-to-client"
        }
      ],
      "updated": 1763470866725,
      "link": null,
      "locked": false
    },
    {
      "id": "external-client-text",
      "type": "text",
      "x": -395,
      "y": 29.200000000000003,
      "width": 270,
      "height": 21.599999999999998,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "external-client-group"
      ],
      "roundness": null,
      "seed": 187018291,
      "version": 1,
      "versionNonce": 361461804,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763470866725,
      "link": null,
      "locked": false,
      "text": "Obsidian Copilot Client",
      "rawText": "Obsidian Copilot Client",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "external-client",
      "originalText": "Obsidian Copilot Client",
      "lineHeight": 1.2,
      "baseline": 14.4
    },
    {
      "id": "process-1",
      "type": "ellipse",
      "x": 0,
      "y": 0,
      "width": 160,
      "height": 90,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#e3f2fd",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "process-1-group"
      ],
      "roundness": null,
      "seed": 730146263,
      "version": 1,
      "versionNonce": 470326616,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "process-1-text"
        },
        {
          "type": "arrow",
          "id": "arrow-client-to-p1"
        },
        {
          "type": "arrow",
          "id": "arrow-p1-to-p2"
        }
      ],
      "updated": 1763470866725,
      "link": null,
      "locked": false
    },
    {
      "id": "process-1-text",
      "type": "text",
      "x": -55,
      "y": 34.2,
      "width": 270,
      "height": 21.599999999999998,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "process-1-group"
      ],
      "roundness": null,
      "seed": 83592396,
      "version": 1,
      "versionNonce": 785190181,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763470866725,
      "link": null,
      "locked": false,
      "text": "1.0 HTTP Ingress & Auth",
      "rawText": "1.0 HTTP Ingress & Auth",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "process-1",
      "originalText": "1.0 HTTP Ingress & Auth",
      "lineHeight": 1.2,
      "baseline": 14.4
    },
    {
      "id": "process-2",
      "type": "ellipse",
      "x": 0,
      "y": 160,
      "width": 160,
      "height": 90,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#e3f2fd",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "process-2-group"
      ],
      "roundness": null,
      "seed": 295071911,
      "version": 1,
      "versionNonce": 117191626,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "process-2-text"
        },
        {
          "type": "arrow",
          "id": "arrow-p1-to-p2"
        },
        {
          "type": "arrow",
          "id": "arrow-p2-to-p3"
        }
      ],
      "updated": 1763470866725,
      "link": null,
      "locked": false
    },
    {
      "id": "process-2-text",
      "type": "text",
      "x": -65,
      "y": 194.2,
      "width": 290,
      "height": 21.599999999999998,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "process-2-group"
      ],
      "roundness": null,
      "seed": 242830445,
      "version": 1,
      "versionNonce": 431777871,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763470866725,
      "link": null,
      "locked": false,
      "text": "2.0 Request Normalization",
      "rawText": "2.0 Request Normalization",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "process-2",
      "originalText": "2.0 Request Normalization",
      "lineHeight": 1.2,
      "baseline": 14.4
    },
    {
      "id": "process-3",
      "type": "ellipse",
      "x": 0,
      "y": 320,
      "width": 160,
      "height": 90,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#e3f2fd",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "process-3-group"
      ],
      "roundness": null,
      "seed": 93284282,
      "version": 1,
      "versionNonce": 186740438,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "process-3-text"
        },
        {
          "type": "arrow",
          "id": "arrow-p2-to-p3"
        },
        {
          "type": "arrow",
          "id": "arrow-p3-to-p4"
        },
        {
          "type": "arrow",
          "id": "arrow-p3-to-codex"
        },
        {
          "type": "arrow",
          "id": "arrow-codex-to-p3"
        }
      ],
      "updated": 1763470866725,
      "link": null,
      "locked": false
    },
    {
      "id": "process-3-text",
      "type": "text",
      "x": -55,
      "y": 354.2,
      "width": 270,
      "height": 21.599999999999998,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "process-3-group"
      ],
      "roundness": null,
      "seed": 122472304,
      "version": 1,
      "versionNonce": 85195439,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763470866725,
      "link": null,
      "locked": false,
      "text": "3.0 Codex Worker Bridge",
      "rawText": "3.0 Codex Worker Bridge",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "process-3",
      "originalText": "3.0 Codex Worker Bridge",
      "lineHeight": 1.2,
      "baseline": 14.4
    },
    {
      "id": "process-4",
      "type": "ellipse",
      "x": 0,
      "y": 480,
      "width": 160,
      "height": 90,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#e3f2fd",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "process-4-group"
      ],
      "roundness": null,
      "seed": 456735312,
      "version": 1,
      "versionNonce": 167786991,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "process-4-text"
        },
        {
          "type": "arrow",
          "id": "arrow-p3-to-p4"
        },
        {
          "type": "arrow",
          "id": "arrow-p4-to-client"
        }
      ],
      "updated": 1763470866725,
      "link": null,
      "locked": false
    },
    {
      "id": "process-4-text",
      "type": "text",
      "x": -50,
      "y": 514.2,
      "width": 260,
      "height": 21.599999999999998,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "process-4-group"
      ],
      "roundness": null,
      "seed": 728660689,
      "version": 1,
      "versionNonce": 966247368,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763470866725,
      "link": null,
      "locked": false,
      "text": "4.0 Streaming Assembly",
      "rawText": "4.0 Streaming Assembly",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "process-4",
      "originalText": "4.0 Streaming Assembly",
      "lineHeight": 1.2,
      "baseline": 14.4
    },
    {
      "id": "external-codex",
      "type": "rectangle",
      "x": 360,
      "y": 320,
      "width": 120,
      "height": 80,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#f3e5f5",
      "fillStyle": "solid",
      "strokeWidth": 3,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "external-codex-group"
      ],
      "roundness": null,
      "seed": 532494636,
      "version": 1,
      "versionNonce": 704451655,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "external-codex-text"
        },
        {
          "type": "arrow",
          "id": "arrow-p3-to-codex"
        },
        {
          "type": "arrow",
          "id": "arrow-codex-to-p3"
        }
      ],
      "updated": 1763470866725,
      "link": null,
      "locked": false
    },
    {
      "id": "external-codex-text",
      "type": "text",
      "x": 325,
      "y": 349.2,
      "width": 190,
      "height": 21.599999999999998,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [
        "external-codex-group"
      ],
      "roundness": null,
      "seed": 782326096,
      "version": 1,
      "versionNonce": 839677055,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763470866725,
      "link": null,
      "locked": false,
      "text": "Codex App-Server",
      "rawText": "Codex App-Server",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "external-codex",
      "originalText": "Codex App-Server",
      "lineHeight": 1.2,
      "baseline": 14.4
    },
    {
      "id": "arrow-client-to-p1",
      "type": "arrow",
      "x": -260,
      "y": 40,
      "width": 340,
      "height": 5,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "roundness": null,
      "seed": 505003765,
      "version": 1,
      "versionNonce": 817987504,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763470866725,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          340,
          5
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "external-client",
        "focus": 0,
        "gap": 10
      },
      "endBinding": {
        "elementId": "process-1",
        "focus": 0,
        "gap": 10
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false,
      "text": "Client request JSON",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "verticalAlign": "middle"
    },
    {
      "id": "arrow-p1-to-p2",
      "type": "arrow",
      "x": 80,
      "y": 45,
      "width": 0,
      "height": 160,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "roundness": null,
      "seed": 714410174,
      "version": 1,
      "versionNonce": 987651539,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763470866725,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          160
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "process-1",
        "focus": 0,
        "gap": 10
      },
      "endBinding": {
        "elementId": "process-2",
        "focus": 0,
        "gap": 10
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false,
      "text": "Authed payload",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "verticalAlign": "middle"
    },
    {
      "id": "arrow-p2-to-p3",
      "type": "arrow",
      "x": 80,
      "y": 205,
      "width": 0,
      "height": 160,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "roundness": null,
      "seed": 144590787,
      "version": 1,
      "versionNonce": 872167471,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763470866725,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          160
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "process-2",
        "focus": 0,
        "gap": 10
      },
      "endBinding": {
        "elementId": "process-3",
        "focus": 0,
        "gap": 10
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false,
      "text": "Normalized job config",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "verticalAlign": "middle"
    },
    {
      "id": "arrow-p3-to-p4",
      "type": "arrow",
      "x": 80,
      "y": 365,
      "width": 0,
      "height": 160,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "roundness": null,
      "seed": 209979869,
      "version": 1,
      "versionNonce": 407219947,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763470866725,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          160
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "process-3",
        "focus": 0,
        "gap": 10
      },
      "endBinding": {
        "elementId": "process-4",
        "focus": 0,
        "gap": 10
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false,
      "text": "Agent deltas",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "verticalAlign": "middle"
    },
    {
      "id": "arrow-p3-to-codex",
      "type": "arrow",
      "x": 80,
      "y": 365,
      "width": 340,
      "height": 5,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "roundness": null,
      "seed": 330510143,
      "version": 1,
      "versionNonce": 131226791,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763470866725,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          340,
          -5
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "process-3",
        "focus": 0,
        "gap": 10
      },
      "endBinding": {
        "elementId": "external-codex",
        "focus": 0,
        "gap": 10
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false,
      "text": "JSON-RPC commands",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "verticalAlign": "middle"
    },
    {
      "id": "arrow-codex-to-p3",
      "type": "arrow",
      "x": 420,
      "y": 360,
      "width": 340,
      "height": 5,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "roundness": null,
      "seed": 721775866,
      "version": 1,
      "versionNonce": 881563958,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763470866725,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -340,
          5
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "external-codex",
        "focus": 0,
        "gap": 10
      },
      "endBinding": {
        "elementId": "process-3",
        "focus": 0,
        "gap": 10
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false,
      "text": "Codex deltas/events",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "verticalAlign": "middle"
    },
    {
      "id": "arrow-p4-to-client",
      "type": "arrow",
      "x": 80,
      "y": 525,
      "width": 340,
      "height": 485,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 0,
      "opacity": 100,
      "groupIds": [],
      "roundness": null,
      "seed": 829784101,
      "version": 1,
      "versionNonce": 483304656,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763470866725,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -170,
          0
        ],
        [
          -170,
          -480
        ],
        [
          -340,
          -485
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "process-4",
        "focus": 0,
        "gap": 10
      },
      "endBinding": {
        "elementId": "external-client",
        "focus": 0,
        "gap": 10
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": true,
      "text": "SSE stream + usage",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "verticalAlign": "middle"
    }
  ]
}