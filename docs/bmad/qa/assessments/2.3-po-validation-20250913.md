---
title: PO Validation — Story 2.3 (Per‑Chunk Metadata Consistency)
story: docs/bmad/stories/2.3.phase-c-per-chunk-metadata-consistency.md
date: 2025-09-13
owner: Sarah (PO)
---

## Validation Summary

Story defines clear acceptance criteria to ensure every SSE JSON frame carries required metadata and that usage/finish‑reason ordering remains consistent with prior phases. Scope is tight, testable, and maps directly to the epic’s Phase C.

## Acceptance Criteria Check

- Per‑frame required fields (`id/object/created/model`) on every chunk: CLEAR & TESTABLE.
- Intermediate frames carry `finish_reason:null` and `usage:null`: CLEAR & TESTABLE.
- Finalizer then optional usage chunk before `[DONE]`: CONSISTENT with 2.1/2.2, CLEAR.
- Tests updated/passing (E2E per‑frame + integration sanity): ACTIONABLE; pending implementation.
- Docs parity call‑out (every chunk has envelope fields): ACTIONABLE; minor doc tweak if needed.

## Structure & Template Conformance

- Sections present: Status, Story, Acceptance Criteria, Tasks/Subtasks, Dev Agent Record, Dev Notes, Testing, QA Results, Change Log → PASS
- Dependency noted on 2.2 → PASS
- Minor: front‑matter `status: Draft` but body `## Status` says Ready → CONSIDER aligning to `Ready` for consistency.

## Decision

- Status: APPROVED for development. Merge contingent on tests/docs updates passing CI.

## Notes

- Recommend adding an explicit E2E assertion that the usage frame also includes the full envelope and appears after the finish‑reason frame.
- Include a short README note for client developers summarizing envelope guarantees (link to spec page).
