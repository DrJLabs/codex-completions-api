# Requirements Traceability Matrix — Story 2.1

story: docs/bmad/stories/2.1.phase-a-spec-and-contracts.md
date: 2025-09-13

## Coverage Summary

- Total Requirements (ACs): 4
- Covered: 4 (100%)
- Not Covered: 0 (0%)

## Requirement Mappings

### AC1: Spec document exists under `docs/`

Coverage: FULL (artifact present)

- Artifact: docs/openai-chat-completions-parity.md
- Notes: Includes non‑stream fields, streaming order/finalizer, errors, params with version header.

### AC2: Golden artifacts checked in

Coverage: FULL (artifacts present)

- Files:
  - test-results/examples/chat.nonstream.example.json
  - test-results/examples/chat.stream.no-usage.ndjson
  - test-results/examples/chat.stream.with-usage.ndjson

### AC3: Tests reference spec (E2E + Integration)

Coverage: FULL (tests green)

- E2E:
  - 2.1-E2E-001 — streaming order (no usage): tests/sse.spec.js
  - 2.1-E2E-002 — usage chunk before [DONE]: tests/sse-usage.spec.js
- Integration:
  - 2.1-INT-001 — non‑stream required fields presence: tests/integration/nonstream.fields.int.test.js
  - 2.1-INT-002 — error envelope includes `param`: tests/integration/error.param.int.test.js

### AC4: Docs alignment

Coverage: FULL (doc updated)

- Artifact: docs/react-sse-compat-checklist.md (finish_reason finalizer semantics documented)

## Critical Gaps

- None identified for acceptance.

## Gate YAML Block

```yaml
trace:
  totals:
    requirements: 4
    covered: 4
    not_covered: 0
  mappings:
    AC1: [artifact]
    AC2: [artifact]
    AC3: [tests/e2e, tests/integration]
    AC4: [docs]
```

## Story Hook

- Story: docs/bmad/stories/2.1.phase-a-spec-and-contracts.md
- Risk: docs/bmad/qa/assessments/2.1-risk-20250913.md
- Test Design: docs/bmad/qa/assessments/2.1-test-design-20250913.md
