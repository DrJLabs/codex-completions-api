---
title: PO Validation — Story 2.4 (Error Response Parity)
story: docs/bmad/stories/2.4.phase-e-error-response-parity.md
date: 2025-09-13
owner: Sarah (PO)
---

## Validation Summary

Story 2.4 scopes error envelope and HTTP status/type parity for `/v1/chat/completions`. Acceptance criteria are clear and testable, mapping directly to the epic’s Phase E.

## Acceptance Criteria Check

- Error envelope `{ error: { message, type, code?, param? } }`: CLEAR & TESTABLE.
- Status/type mapping (400/401/403/404/429/500) with examples: CLEAR & TESTABLE.
- `param` populated for validation failures (`model`, `messages`, `n`): CLEAR.
- Unknown optional fields ignored: CLEAR.
- Tests planned across integration scenarios with sanitization requirements: ACTIONABLE.

## Structure & Template Conformance

- Required sections present and aligned with template: PASS.
- Dependencies and DoD are explicit; file list enumerates test files: PASS.

## Decision

- Status: APPROVED for development. Merge contingent on integration tests passing.

## Notes

- Ensure all error responses set `Content-Type: application/json; charset=utf-8`.
- Prefer a single error helper to avoid mapping drift across handlers.
