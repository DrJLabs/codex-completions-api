---
title: NFR Assessment — Story 2.6 (Usage Latency Placeholders)
story: docs/bmad/stories/2.6.phase-h-usage-latency-placeholders.md
date: 2025-09-14
owner: QA (Quinn)
labels: [qa, nfr]
---

## Scope & Summary

Story 2.6 adds two nullable fields to the streaming final usage chunk. No performance‑critical logic or security‑sensitive paths are introduced. NFR risk is minimal.

## Quality Attributes

- Performance: NEGLIGIBLE — Adds two keys to a single JSON frame per streamed request when usage is requested.
- Reliability: MAINTAINED — E2E order tests ensure unchanged SSE ordering; placeholders are null and optional.
- Security: MAINTAINED — No new inputs; output‑only fields. No secrets or PII exposure.
- Compatibility: HIGH — Non‑stream unchanged; fields appear only under `include_usage:true`.
- Observability: IMPROVED — Placeholders prepare metrics without changing behavior.

## Risks & Mitigations

- Strict clients validating `usage` schema could flag unknown keys.
  - Mitigation: Document fields as nullable and optional; tests lock emission scope; feature is additive in streaming only.

## Validation

- Tests: E2E placeholders test, negative path test, ordering test — all passing.
- Docs updated: docs/openai-chat-completions-parity.md (2025‑09‑14) includes placeholder details.

## Decision

NFR Status: PASS — No additional actions required.
